
#include <dlfcn.h>

#include <string>

static struct RDllInfo {
   char  *path;
};

extern "C" void R_init_tbb(RDllInfo *dll) {
   
#if defined(_WIN32)


#elif defined(__APPLE__)

   // determine path to libtbb.dylib
   std::string path(dll->path);
   path = path.substr(0, path.find_last_of('/')) + "/libtbb.dylib";
   
   // open it
   void * handle = dlopen(path.c_str(), RTLD_GLOBAL);
   
   // load the symbols
   dlsym(handle,"__ZN3tbb8internal12NFS_AllocateEmmPv");
   dlsym(handle,"__ZN3tbb8internal15NFS_GetLineSizeEv");
   dlsym(handle,"__ZN3tbb8internal8NFS_FreeEPv");
   dlsym(handle,"__ZN3tbb8internal23allocate_via_handler_v3Em");
   dlsym(handle,"__ZN3tbb8internal25deallocate_via_handler_v3EPv");
   dlsym(handle,"__ZN3tbb8internal17is_malloc_used_v3Ev");
   dlsym(handle,"__ZN3tbb4task13note_affinityEt");
   dlsym(handle,"__ZN3tbb4task22internal_set_ref_countEi");
   dlsym(handle,"__ZN3tbb4task28internal_decrement_ref_countEv");
   dlsym(handle,"__ZN3tbb4task22spawn_and_wait_for_allERNS_9task_listE");
   dlsym(handle,"__ZN3tbb4task4selfEv");
   dlsym(handle,"__ZN3tbb10interface58internal9task_base7destroyERNS_4taskE");
   dlsym(handle,"__ZNK3tbb4task26is_owned_by_current_threadEv");
   dlsym(handle,"__ZN3tbb8internal19allocate_root_proxy4freeERNS_4taskE");
   dlsym(handle,"__ZN3tbb8internal19allocate_root_proxy8allocateEm");
   dlsym(handle,"__ZN3tbb8internal28affinity_partitioner_base_v36resizeEj");
   dlsym(handle,"__ZN3tbb8internal36get_initial_auto_partitioner_divisorEv");
   dlsym(handle,"__ZNK3tbb8internal20allocate_child_proxy4freeERNS_4taskE");
   dlsym(handle,"__ZNK3tbb8internal20allocate_child_proxy8allocateEm");
   dlsym(handle,"__ZNK3tbb8internal27allocate_continuation_proxy4freeERNS_4taskE");
   dlsym(handle,"__ZNK3tbb8internal27allocate_continuation_proxy8allocateEm");
   dlsym(handle,"__ZNK3tbb8internal34allocate_additional_child_of_proxy4freeERNS_4taskE");
   dlsym(handle,"__ZNK3tbb8internal34allocate_additional_child_of_proxy8allocateEm");
   dlsym(handle,"__ZTIN3tbb4taskE");
   dlsym(handle,"__ZTSN3tbb4taskE");
   dlsym(handle,"__ZTVN3tbb4taskE");
   dlsym(handle,"__ZN3tbb19task_scheduler_init19default_num_threadsEv");
   dlsym(handle,"__ZN3tbb19task_scheduler_init10initializeEim");
   dlsym(handle,"__ZN3tbb19task_scheduler_init10initializeEi");
   dlsym(handle,"__ZN3tbb19task_scheduler_init9terminateEv");
   dlsym(handle,"__ZN3tbb8internal26task_scheduler_observer_v37observeEb");
   dlsym(handle,"__ZN3tbb10empty_task7executeEv");
   dlsym(handle,"__ZN3tbb10empty_taskD0Ev");
   dlsym(handle,"__ZN3tbb10empty_taskD1Ev");
   dlsym(handle,"__ZTIN3tbb10empty_taskE");
   dlsym(handle,"__ZTSN3tbb10empty_taskE");
   dlsym(handle,"__ZTVN3tbb10empty_taskE");
   dlsym(handle,"__ZN3tbb10interface78internal15task_arena_base19internal_initializeEv");
   dlsym(handle,"__ZN3tbb10interface78internal15task_arena_base18internal_terminateEv");
   dlsym(handle,"__ZNK3tbb10interface78internal15task_arena_base16internal_enqueueERNS_4taskEl");
   dlsym(handle,"__ZNK3tbb10interface78internal15task_arena_base16internal_executeERNS1_13delegate_baseE");
   dlsym(handle,"__ZNK3tbb10interface78internal15task_arena_base13internal_waitEv");
   dlsym(handle,"__ZN3tbb10interface78internal15task_arena_base21internal_current_slotEv");
   dlsym(handle,"__ZN3tbb4task7destroyERS0_");
   dlsym(handle,"__ZNK3tbb8internal32allocate_root_with_context_proxy8allocateEm");
   dlsym(handle,"__ZNK3tbb8internal32allocate_root_with_context_proxy4freeERNS_4taskE");
   dlsym(handle,"__ZN3tbb4task12change_groupERNS_18task_group_contextE");
   dlsym(handle,"__ZNK3tbb18task_group_context28is_group_execution_cancelledEv");
   dlsym(handle,"__ZN3tbb18task_group_context22cancel_group_executionEv");
   dlsym(handle,"__ZN3tbb18task_group_context26register_pending_exceptionEv");
   dlsym(handle,"__ZN3tbb18task_group_context5resetEv");
   dlsym(handle,"__ZN3tbb18task_group_context4initEv");
   dlsym(handle,"__ZN3tbb18task_group_contextD1Ev");
   dlsym(handle,"__ZN3tbb18task_group_contextD2Ev");
   dlsym(handle,"__ZN3tbb18task_group_context12set_priorityENS_10priority_tE");
   dlsym(handle,"__ZNK3tbb18task_group_context8priorityEv");
   dlsym(handle,"__ZNK3tbb18captured_exception4nameEv");
   dlsym(handle,"__ZNK3tbb18captured_exception4whatEv");
   dlsym(handle,"__ZN3tbb18captured_exception10throw_selfEv");
   dlsym(handle,"__ZN3tbb18captured_exception3setEPKcS2_");
   dlsym(handle,"__ZN3tbb18captured_exception4moveEv");
   dlsym(handle,"__ZN3tbb18captured_exception5clearEv");
   dlsym(handle,"__ZN3tbb18captured_exception7destroyEv");
   dlsym(handle,"__ZN3tbb18captured_exception8allocateEPKcS2_");
   dlsym(handle,"__ZN3tbb18captured_exceptionD0Ev");
   dlsym(handle,"__ZN3tbb18captured_exceptionD1Ev");
   dlsym(handle,"__ZN3tbb18captured_exceptionD2Ev");
   dlsym(handle,"__ZTIN3tbb18captured_exceptionE");
   dlsym(handle,"__ZTSN3tbb18captured_exceptionE");
   dlsym(handle,"__ZTVN3tbb18captured_exceptionE");
   dlsym(handle,"__ZTIN3tbb13tbb_exceptionE");
   dlsym(handle,"__ZTSN3tbb13tbb_exceptionE");
   dlsym(handle,"__ZTVN3tbb13tbb_exceptionE");
   dlsym(handle,"__ZN3tbb8internal33throw_bad_last_alloc_exception_v4Ev");
   dlsym(handle,"__ZN3tbb8internal18throw_exception_v4ENS0_12exception_idE");
   dlsym(handle,"__ZNSt13runtime_errorD1Ev");
   dlsym(handle,"__ZTISt13runtime_error");
   dlsym(handle,"__ZTSSt13runtime_error");
   dlsym(handle,"__ZNSt16invalid_argumentD1Ev");
   dlsym(handle,"__ZTISt16invalid_argument");
   dlsym(handle,"__ZTSSt16invalid_argument");
   dlsym(handle,"__ZNSt11range_errorD1Ev");
   dlsym(handle,"__ZTISt11range_error");
   dlsym(handle,"__ZTSSt11range_error");
   dlsym(handle,"__ZNSt12length_errorD1Ev");
   dlsym(handle,"__ZTISt12length_error");
   dlsym(handle,"__ZTSSt12length_error");
   dlsym(handle,"__ZNSt12out_of_rangeD1Ev");
   dlsym(handle,"__ZTISt12out_of_range");
   dlsym(handle,"__ZTSSt12out_of_range");
   dlsym(handle,"__ZN3tbb14bad_last_allocD0Ev");
   dlsym(handle,"__ZN3tbb14bad_last_allocD1Ev");
   dlsym(handle,"__ZNK3tbb14bad_last_alloc4whatEv");
   dlsym(handle,"__ZTIN3tbb14bad_last_allocE");
   dlsym(handle,"__ZTSN3tbb14bad_last_allocE");
   dlsym(handle,"__ZTVN3tbb14bad_last_allocE");
   dlsym(handle,"__ZN3tbb12missing_waitD0Ev");
   dlsym(handle,"__ZN3tbb12missing_waitD1Ev");
   dlsym(handle,"__ZNK3tbb12missing_wait4whatEv");
   dlsym(handle,"__ZTIN3tbb12missing_waitE");
   dlsym(handle,"__ZTSN3tbb12missing_waitE");
   dlsym(handle,"__ZTVN3tbb12missing_waitE");
   dlsym(handle,"__ZN3tbb27invalid_multiple_schedulingD0Ev");
   dlsym(handle,"__ZN3tbb27invalid_multiple_schedulingD1Ev");
   dlsym(handle,"__ZNK3tbb27invalid_multiple_scheduling4whatEv");
   dlsym(handle,"__ZTIN3tbb27invalid_multiple_schedulingE");
   dlsym(handle,"__ZTSN3tbb27invalid_multiple_schedulingE");
   dlsym(handle,"__ZTVN3tbb27invalid_multiple_schedulingE");
   dlsym(handle,"__ZN3tbb13improper_lockD0Ev");
   dlsym(handle,"__ZN3tbb13improper_lockD1Ev");
   dlsym(handle,"__ZNK3tbb13improper_lock4whatEv");
   dlsym(handle,"__ZTIN3tbb13improper_lockE");
   dlsym(handle,"__ZTSN3tbb13improper_lockE");
   dlsym(handle,"__ZTVN3tbb13improper_lockE");
   dlsym(handle,"__ZN3tbb10user_abortD0Ev");
   dlsym(handle,"__ZN3tbb10user_abortD1Ev");
   dlsym(handle,"__ZNK3tbb10user_abort4whatEv");
   dlsym(handle,"__ZTIN3tbb10user_abortE");
   dlsym(handle,"__ZTSN3tbb10user_abortE");
   dlsym(handle,"__ZTVN3tbb10user_abortE");
   dlsym(handle,"__ZN3tbb17assertion_failureEPKciS1_S1_");
   dlsym(handle,"__ZN3tbb21set_assertion_handlerEPFvPKciS1_S1_E");
   dlsym(handle,"__ZN3tbb8internal13handle_perrorEiPKc");
   dlsym(handle,"__ZN3tbb8internal15runtime_warningEPKcz");
   dlsym(handle,"_TBB_runtime_interface_version");
   dlsym(handle,"__ZN3tbb8internal32itt_load_pointer_with_acquire_v3EPKv");
   dlsym(handle,"__ZN3tbb8internal33itt_store_pointer_with_release_v3EPvS1_");
   dlsym(handle,"__ZN3tbb8internal18call_itt_notify_v5EiPv");
   dlsym(handle,"__ZN3tbb8internal19itt_load_pointer_v3EPKv");
   dlsym(handle,"__ZN3tbb8internal20itt_set_sync_name_v3EPvPKc");
   dlsym(handle,"__ZTIN3tbb6filterE");
   dlsym(handle,"__ZTSN3tbb6filterE");
   dlsym(handle,"__ZTVN3tbb6filterE");
   dlsym(handle,"__ZN3tbb6filterD2Ev");
   dlsym(handle,"__ZN3tbb8pipeline10add_filterERNS_6filterE");
   dlsym(handle,"__ZN3tbb8pipeline12inject_tokenERNS_4taskE");
   dlsym(handle,"__ZN3tbb8pipeline13remove_filterERNS_6filterE");
   dlsym(handle,"__ZN3tbb8pipeline3runEm");
   dlsym(handle,"__ZN3tbb8pipeline3runEmRNS_18task_group_contextE");
   dlsym(handle,"__ZN3tbb8pipeline5clearEv");
   dlsym(handle,"__ZN3tbb19thread_bound_filter12process_itemEv");
   dlsym(handle,"__ZN3tbb19thread_bound_filter16try_process_itemEv");
   dlsym(handle,"__ZN3tbb8pipelineC1Ev");
   dlsym(handle,"__ZN3tbb8pipelineC2Ev");
   dlsym(handle,"__ZN3tbb8pipelineD0Ev");
   dlsym(handle,"__ZN3tbb8pipelineD1Ev");
   dlsym(handle,"__ZN3tbb8pipelineD2Ev");
   dlsym(handle,"__ZTIN3tbb8pipelineE");
   dlsym(handle,"__ZTSN3tbb8pipelineE");
   dlsym(handle,"__ZTVN3tbb8pipelineE");
   dlsym(handle,"__ZN3tbb6filter16set_end_of_inputEv");
   dlsym(handle,"__ZN3tbb16queuing_rw_mutex11scoped_lock17upgrade_to_writerEv");
   dlsym(handle,"__ZN3tbb16queuing_rw_mutex11scoped_lock19downgrade_to_readerEv");
   dlsym(handle,"__ZN3tbb16queuing_rw_mutex11scoped_lock7acquireERS0_b");
   dlsym(handle,"__ZN3tbb16queuing_rw_mutex11scoped_lock7releaseEv");
   dlsym(handle,"__ZN3tbb16queuing_rw_mutex11scoped_lock11try_acquireERS0_b");
   dlsym(handle,"__ZN3tbb16queuing_rw_mutex18internal_constructEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock11scoped_lock16internal_destroyEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock11scoped_lock18internal_constructERS1_");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock13try_lock_readEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock16scoped_lock_read16internal_destroyEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock16scoped_lock_read18internal_constructERS1_");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock16internal_destroyEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock18internal_constructEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock4lockEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock6unlockEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock8try_lockEv");
   dlsym(handle,"__ZN3tbb10interface518reader_writer_lock9lock_readEv");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex16internal_upgradeEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex22internal_itt_releasingEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex23internal_acquire_readerEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex23internal_acquire_writerEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex18internal_downgradeEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex23internal_release_readerEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex23internal_release_writerEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex27internal_try_acquire_readerEPS0_");
   dlsym(handle,"__ZN3tbb13spin_rw_mutex27internal_try_acquire_writerEPS0_");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v316internal_upgradeEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v318internal_downgradeEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v323internal_acquire_readerEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v323internal_acquire_writerEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v323internal_release_readerEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v323internal_release_writerEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v327internal_try_acquire_readerEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v327internal_try_acquire_writerEv");
   dlsym(handle,"__ZN3tbb16spin_rw_mutex_v318internal_constructEv");
   dlsym(handle,"__ZN3tbb10spin_mutex11scoped_lock16internal_acquireERS0_");
   dlsym(handle,"__ZN3tbb10spin_mutex11scoped_lock16internal_releaseEv");
   dlsym(handle,"__ZN3tbb10spin_mutex11scoped_lock20internal_try_acquireERS0_");
   dlsym(handle,"__ZN3tbb10spin_mutex18internal_constructEv");
   dlsym(handle,"__ZN3tbb5mutex11scoped_lock16internal_acquireERS0_");
   dlsym(handle,"__ZN3tbb5mutex11scoped_lock16internal_releaseEv");
   dlsym(handle,"__ZN3tbb5mutex11scoped_lock20internal_try_acquireERS0_");
   dlsym(handle,"__ZN3tbb5mutex16internal_destroyEv");
   dlsym(handle,"__ZN3tbb5mutex18internal_constructEv");
   dlsym(handle,"__ZN3tbb15recursive_mutex11scoped_lock16internal_acquireERS0_");
   dlsym(handle,"__ZN3tbb15recursive_mutex11scoped_lock16internal_releaseEv");
   dlsym(handle,"__ZN3tbb15recursive_mutex11scoped_lock20internal_try_acquireERS0_");
   dlsym(handle,"__ZN3tbb15recursive_mutex16internal_destroyEv");
   dlsym(handle,"__ZN3tbb15recursive_mutex18internal_constructEv");
   dlsym(handle,"__ZN3tbb13queuing_mutex11scoped_lock7acquireERS0_");
   dlsym(handle,"__ZN3tbb13queuing_mutex11scoped_lock7releaseEv");
   dlsym(handle,"__ZN3tbb13queuing_mutex11scoped_lock11try_acquireERS0_");
   dlsym(handle,"__ZN3tbb13queuing_mutex18internal_constructEv");
   dlsym(handle,"__ZN3tbb8internal19critical_section_v418internal_constructEv");
   dlsym(handle,"__ZNK3tbb8internal21hash_map_segment_base23internal_grow_predicateEv");
   dlsym(handle,"__ZN3tbb8internal21concurrent_queue_base12internal_popEPv");
   dlsym(handle,"__ZN3tbb8internal21concurrent_queue_base13internal_pushEPKv");
   dlsym(handle,"__ZN3tbb8internal21concurrent_queue_base21internal_set_capacityElm");
   dlsym(handle,"__ZN3tbb8internal21concurrent_queue_base23internal_pop_if_presentEPv");
   dlsym(handle,"__ZN3tbb8internal21concurrent_queue_base25internal_push_if_not_fullEPKv");
   dlsym(handle,"__ZN3tbb8internal21concurrent_queue_baseC2Em");
   dlsym(handle,"__ZN3tbb8internal21concurrent_queue_baseD2Ev");
   dlsym(handle,"__ZTIN3tbb8internal21concurrent_queue_baseE");
   dlsym(handle,"__ZTSN3tbb8internal21concurrent_queue_baseE");
   dlsym(handle,"__ZTVN3tbb8internal21concurrent_queue_baseE");
   dlsym(handle,"__ZN3tbb8internal30concurrent_queue_iterator_base6assignERKS1_");
   dlsym(handle,"__ZN3tbb8internal30concurrent_queue_iterator_base7advanceEv");
   dlsym(handle,"__ZN3tbb8internal30concurrent_queue_iterator_baseC2ERKNS0_21concurrent_queue_baseE");
   dlsym(handle,"__ZN3tbb8internal30concurrent_queue_iterator_baseD2Ev");
   dlsym(handle,"__ZNK3tbb8internal21concurrent_queue_base13internal_sizeEv");
   dlsym(handle,"__ZN3tbb8internal33concurrent_queue_iterator_base_v3C2ERKNS0_24concurrent_queue_base_v3E");
   dlsym(handle,"__ZN3tbb8internal33concurrent_queue_iterator_base_v3C2ERKNS0_24concurrent_queue_base_v3Em");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v3C2Em");
   dlsym(handle,"__ZN3tbb8internal33concurrent_queue_iterator_base_v3D2Ev");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v3D2Ev");
   dlsym(handle,"__ZTIN3tbb8internal24concurrent_queue_base_v3E");
   dlsym(handle,"__ZTSN3tbb8internal24concurrent_queue_base_v3E");
   dlsym(handle,"__ZTVN3tbb8internal24concurrent_queue_base_v3E");
   dlsym(handle,"__ZN3tbb8internal33concurrent_queue_iterator_base_v36assignERKS1_");
   dlsym(handle,"__ZN3tbb8internal33concurrent_queue_iterator_base_v37advanceEv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v313internal_pushEPKv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v325internal_push_if_not_fullEPKv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v312internal_popEPv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v323internal_pop_if_presentEPv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v314internal_abortEv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v321internal_finish_clearEv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v321internal_set_capacityElm");
   dlsym(handle,"__ZNK3tbb8internal24concurrent_queue_base_v313internal_sizeEv");
   dlsym(handle,"__ZNK3tbb8internal24concurrent_queue_base_v314internal_emptyEv");
   dlsym(handle,"__ZNK3tbb8internal24concurrent_queue_base_v324internal_throw_exceptionEv");
   dlsym(handle,"__ZN3tbb8internal24concurrent_queue_base_v36assignERKS1_");
   dlsym(handle,"__ZN3tbb8internal22concurrent_vector_base13internal_copyERKS1_mPFvPvPKvmE");
   dlsym(handle,"__ZN3tbb8internal22concurrent_vector_base14internal_clearEPFvPvmEb");
   dlsym(handle,"__ZN3tbb8internal22concurrent_vector_base15internal_assignERKS1_mPFvPvmEPFvS4_PKvmESA_");
   dlsym(handle,"__ZN3tbb8internal22concurrent_vector_base16internal_grow_byEmmPFvPvmE");
   dlsym(handle,"__ZN3tbb8internal22concurrent_vector_base16internal_reserveEmmm");
   dlsym(handle,"__ZN3tbb8internal22concurrent_vector_base18internal_push_backEmRm");
   dlsym(handle,"__ZN3tbb8internal22concurrent_vector_base25internal_grow_to_at_leastEmmPFvPvmE");
   dlsym(handle,"__ZNK3tbb8internal22concurrent_vector_base17internal_capacityEv");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v313internal_copyERKS1_mPFvPvPKvmE");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v314internal_clearEPFvPvmE");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v315internal_assignERKS1_mPFvPvmEPFvS4_PKvmESA_");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v316internal_grow_byEmmPFvPvPKvmES4_");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v316internal_reserveEmmm");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v318internal_push_backEmRm");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v325internal_grow_to_at_leastEmmPFvPvPKvmES4_");
   dlsym(handle,"__ZNK3tbb8internal25concurrent_vector_base_v317internal_capacityEv");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v316internal_compactEmPvPFvS2_mEPFvS2_PKvmE");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v313internal_swapERS1_");
   dlsym(handle,"__ZNK3tbb8internal25concurrent_vector_base_v324internal_throw_exceptionEm");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v3D2Ev");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v315internal_resizeEmmmPKvPFvPvmEPFvS4_S3_mE");
   dlsym(handle,"__ZN3tbb8internal25concurrent_vector_base_v337internal_grow_to_at_least_with_resultEmmPFvPvPKvmES4_");
   dlsym(handle,"__ZN3tbb8internal13tbb_thread_v320hardware_concurrencyEv");
   dlsym(handle,"__ZN3tbb8internal13tbb_thread_v36detachEv");
   dlsym(handle,"__ZN3tbb8internal16thread_get_id_v3Ev");
   dlsym(handle,"__ZN3tbb8internal15free_closure_v3EPv");
   dlsym(handle,"__ZN3tbb8internal13tbb_thread_v34joinEv");
   dlsym(handle,"__ZN3tbb8internal13tbb_thread_v314internal_startEPFPvS2_ES2_");
   dlsym(handle,"__ZN3tbb8internal19allocate_closure_v3Em");
   dlsym(handle,"__ZN3tbb8internal7move_v3ERNS0_13tbb_thread_v3ES2_");
   dlsym(handle,"__ZN3tbb8internal15thread_yield_v3Ev");
   dlsym(handle,"__ZN3tbb8internal15thread_sleep_v3ERKNS_10tick_count10interval_tE");
#else
   
#endif
}